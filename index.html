<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hadi Prasetia | Digital Desktop</title>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Google Fonts: Inter & JetBrains Mono -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=JetBrains+Mono:wght@400;700&display=swap" rel="stylesheet">
    
    <!-- Lucide Icons -->
    <script src="https://unpkg.com/lucide@latest"></script>

    <style>
        body {
            font-family: 'Inter', sans-serif;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }
        
        .font-mono {
            font-family: 'JetBrains Mono', monospace;
        }

        /* --- Desktop --- */
        #desktop {
            background: url('https://raw.githubusercontent.com/Harsia-ID/idhescobar/refs/heads/main/Minimalist%20Black%20and%20Blue%20Moodboard%20Desktop%20Wallpaper%20(2).png') no-repeat center center/cover;
            background-color: #020617; /* Fallback color */
            height: 100vh;
            width: 100vw;
            overflow: hidden;
            position: relative;
        }

        /* --- Top Menu Bar --- */
        #top-bar {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 28px;
            background: rgba(2, 6, 23, 0.5); /* Dark semi-transparent */
            backdrop-filter: blur(10px);
            z-index: 1000;
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 0 16px;
            font-size: 14px;
            font-weight: 500;
            color: #e2e8f0; /* Slate-200 */
        }
        
        /* --- Windows --- */
        .window {
            position: absolute;
            min-width: 350px;
            min-height: 200px;
            background: rgba(15, 23, 42, 0.6); /* Dark, glassy background */
            backdrop-filter: blur(20px);
            border-radius: 12px;
            box-shadow: 0 25px 50px -12px rgba(0,0,0,0.4), inset 0 0 0 1px rgba(255,255,255,0.1);
            display: none; /* Hidden by default */
            resize: both;
            overflow: hidden;
        }

        .title-bar {
            height: 36px;
            background-color: rgba(255,255,255,0.05);
            cursor: grab;
            display: flex;
            align-items: center;
            padding: 0 12px;
            user-select: none;
        }
        .title-bar:active { cursor: grabbing; }

        .window-controls {
            display: flex;
            gap: 8px;
        }

        .control-btn {
            width: 12px;
            height: 12px;
            border-radius: 50%;
        }

        .window-content {
            padding: 16px;
            height: calc(100% - 36px);
            overflow-y: auto;
        }
        
        /* Custom scrollbar for windows */
        .window-content::-webkit-scrollbar { width: 6px; }
        .window-content::-webkit-scrollbar-track { background: transparent; }
        .window-content::-webkit-scrollbar-thumb { background: rgba(255,255,255,0.2); border-radius: 3px; }

        /* --- Desktop Icons --- */
        .desktop-icon {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 8px;
            padding: 12px;
            border-radius: 8px;
            cursor: pointer;
            transition: background-color 0.2s;
            text-align: center;
            width: 100px;
        }
        .desktop-icon:hover {
            background-color: rgba(255, 255, 255, 0.1);
        }

        /* --- Dock --- */
        #dock {
            position: absolute;
            bottom: 16px;
            left: 50%;
            transform: translateX(-50%);
            background: rgba(15, 23, 42, 0.4); /* Dark, glassy dock */
            backdrop-filter: blur(15px);
            border-radius: 16px;
            box-shadow: 0 10px 30px -5px rgba(0,0,0,0.2), inset 0 0 0 1px rgba(255,255,255,0.1);
            padding: 8px;
            display: flex;
            gap: 8px;
        }

        .dock-item {
            width: 48px;
            height: 48px;
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: transform 0.2s, background-color 0.2s;
        }
        .dock-item:hover {
            transform: scale(1.1) translateY(-4px);
            background-color: rgba(255, 255, 255, 0.1);
        }
        
        /* --- Mobile Fallback --- */
        @media (max-width: 768px) {
            #desktop { display: none; }
            #mobile-fallback {
                display: block;
                background-color: #020617; /* Dark BG for mobile */
                min-height: 100vh;
                padding: 16px;
            }
        }
    </style>
</head>
<body class="bg-slate-950">

    <!-- Desktop View -->
    <div id="desktop" class="hidden md:block">
        
        <!-- Top Menu Bar -->
        <header id="top-bar">
            <div class="flex items-center gap-4">
                <span class="font-bold">Portfolio</span>
                <span>File</span>
                <span>Edit</span>
                <span>View</span>
                <span>Go</span>
            </div>
            <div id="datetime" class="font-mono"></div>
        </header>

        <!-- Desktop Icons -->
        <div class="p-8 pt-12 space-y-4">
            <div class="desktop-icon" data-window="about-window">
                <div class="w-12 h-12">
                    <svg viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <rect x="8" y="4" width="32" height="40" rx="4" fill="white"/>
                        <path d="M16 16H32" stroke="#9CA3AF" stroke-width="3" stroke-linecap="round"/>
                        <path d="M16 24H32" stroke="#9CA3AF" stroke-width="3" stroke-linecap="round"/>
                        <path d="M16 32H24" stroke="#9CA3AF" stroke-width="3" stroke-linecap="round"/>
                    </svg>
                </div>
                <span class="text-sm text-white font-semibold">About_Me.txt</span>
            </div>
            <div class="desktop-icon" data-window="projects-window">
                 <div class="w-12 h-12">
                    <svg viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M2 18C2 15.7909 3.79086 14 6 14H18L22 10H42C44.2091 10 46 11.7909 46 14V38C46 40.2091 44.2091 42 42 42H6C3.79086 42 2 40.2091 2 38V18Z" fill="#3B82F6"/>
                        <rect x="0" y="20" width="48" height="20" rx="4" fill="#60A5FA"/>
                    </svg>
                </div>
                <span class="text-sm text-white font-semibold">Projects</span>
            </div>
            <div class="desktop-icon" data-window="contact-window">
                <div class="w-12 h-12">
                    <svg viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <rect width="48" height="48" rx="12" fill="#3B82F6"/>
                        <path d="M12 18L24 28L36 18" stroke="white" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"/>
                        <path d="M12 30V18H36V30H12Z" stroke="white" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                </div>
                <span class="text-sm text-white font-semibold">Contact.app</span>
            </div>
        </div>

        <!-- Window: About Me -->
        <div class="window" id="about-window" style="top: 10%; left: 15%; width: 600px; height: 450px;">
            <div class="title-bar">
                <div class="window-controls">
                    <div class="control-btn bg-red-500 close-btn"></div>
                    <div class="control-btn bg-yellow-500"></div>
                    <div class="control-btn bg-green-500"></div>
                </div>
                <span class="font-medium text-sm text-slate-300 mx-auto">About_Me.txt</span>
            </div>
            <div class="window-content text-slate-300">
                <div class="flex gap-6 items-start">
                    <img src="https://avatars.githubusercontent.com/u/68311980" alt="Foto profil Hadi Prasetia" class="w-24 h-24 rounded-full border-2 border-slate-600 shadow-md">
                    <div>
                        <h1 class="text-2xl font-bold text-white mb-1">Hadi Prasetia</h1>
                        <p class="text-slate-400">Digital Product Designer & Developer</p>
                    </div>
                </div>
                <hr class="my-4 border-slate-700">
                <p class="mb-4">
                    Saya adalah seorang desainer dan developer dengan fokus pada UI/UX dan pengembangan front-end. Saya percaya bahwa desain yang baik adalah perpaduan antara estetika yang indah dan fungsionalitas yang mulus.
                </p>
                <p>
                    Dengan pengalaman magang di PT. PLN Indonesia Power dan berbagai proyek akademis, saya terbiasa menerjemahkan data kompleks menjadi cerita visual yang menarik.
                </p>
                <h2 class="text-lg font-bold text-white mt-6 mb-3">Keahlian Utama</h2>
                <div class="flex flex-wrap gap-2 text-sm">
                    <span class="bg-slate-700 text-slate-200 px-3 py-1 rounded-full">UI/UX Design</span>
                    <span class="bg-slate-700 text-slate-200 px-3 py-1 rounded-full">Figma</span>
                    <span class="bg-slate-700 text-slate-200 px-3 py-1 rounded-full">HTML & CSS</span>
                    <span class="bg-slate-700 text-slate-200 px-3 py-1 rounded-full">JavaScript</span>
                    <span class="bg-slate-700 text-slate-200 px-3 py-1 rounded-full">Tailwind CSS</span>
                    <span class="bg-slate-700 text-slate-200 px-3 py-1 rounded-full">PHP & Laravel</span>
                    <span class="bg-slate-700 text-slate-200 px-3 py-1 rounded-full">Video Editing</span>
                </div>
            </div>
        </div>

        <!-- Window: Projects -->
        <div class="window" id="projects-window" style="top: 20%; left: 30%; width: 700px; height: 500px;">
            <div class="title-bar">
                <div class="window-controls">
                    <div class="control-btn bg-red-500 close-btn"></div>
                    <div class="control-btn bg-yellow-500"></div>
                    <div class="control-btn bg-green-500"></div>
                </div>
                <span class="font-medium text-sm text-slate-300 mx-auto">Projects</span>
            </div>
            <div id="projects-grid" class="window-content grid grid-cols-2 gap-4">
                <!-- Project cards will be dynamically inserted here -->
            </div>
        </div>

        <!-- Window: Contact -->
        <div class="window" id="contact-window" style="top: 40%; left: 10%; width: 400px; height: 250px;">
            <div class="title-bar">
                <div class="window-controls">
                    <div class="control-btn bg-red-500 close-btn"></div>
                    <div class="control-btn bg-yellow-500"></div>
                    <div class="control-btn bg-green-500"></div>
                </div>
                <span class="font-medium text-sm text-slate-300 mx-auto">Contact.app</span>
            </div>
            <div class="window-content flex flex-col items-center justify-center text-center">
                 <h2 class="text-xl font-bold text-white">Mari Terhubung</h2>
                 <p class="text-slate-400 mt-2 mb-4">Saya terbuka untuk proyek dan kolaborasi baru.</p>
                 <a href="mailto:hadi.prasetia@example.com" class="bg-indigo-500 text-white font-bold py-2 px-6 rounded-lg hover:bg-indigo-400 transition-all">
                    Kirim Email
                 </a>
                 <div class="flex space-x-4 mt-6">
                    <a href="#" class="text-slate-400 hover:text-indigo-400">GitHub</a>
                    <a href="#" class="text-slate-400 hover:text-indigo-400">LinkedIn</a>
                    <a href="#" class="text-slate-400 hover:text-indigo-400">Dribbble</a>
                 </div>
            </div>
        </div>
        
        <!-- Window: Project Detail (Template) -->
        <div class="window" id="project-detail-window" style="top: 15%; left: 25%; width: 800px; height: 600px;">
            <div class="title-bar">
                <div class="window-controls">
                    <div class="control-btn bg-red-500 close-btn"></div>
                    <div class="control-btn bg-yellow-500"></div>
                    <div class="control-btn bg-green-500"></div>
                </div>
                <span id="detail-window-title" class="font-medium text-sm text-slate-300 mx-auto">Project Detail</span>
            </div>
            <div class="window-content text-slate-300">
                <img id="detail-image" src="" class="w-full h-64 object-cover rounded-lg mb-4">
                <h1 id="detail-title" class="text-3xl font-bold text-white mb-2"></h1>
                <p id="detail-description" class="mb-6 text-slate-400"></p>
                
                <h2 class="text-lg font-bold text-white mb-3">Teknologi yang Digunakan</h2>
                <div id="detail-tech-stack" class="flex flex-wrap gap-2 text-sm mb-6">
                    <!-- Tech tags will be inserted here -->
                </div>

                <a id="detail-live-url" href="#" target="_blank" class="inline-block bg-indigo-500 text-white font-bold py-2 px-5 rounded-lg hover:bg-indigo-400 transition-all">
                    Lihat Proyek Langsung
                </a>
            </div>
        </div>

        <!-- Dock -->
        <div id="dock">
            <div class="dock-item" data-window="about-window">
                <div class="w-8 h-8">
                    <svg viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <rect x="8" y="4" width="32" height="40" rx="4" fill="white"/>
                        <path d="M16 16H32" stroke="#9CA3AF" stroke-width="3" stroke-linecap="round"/>
                        <path d="M16 24H32" stroke="#9CA3AF" stroke-width="3" stroke-linecap="round"/>
                        <path d="M16 32H24" stroke="#9CA3AF" stroke-width="3" stroke-linecap="round"/>
                    </svg>
                </div>
            </div>
            <div class="dock-item" data-window="projects-window">
                <div class="w-8 h-8">
                    <svg viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M2 18C2 15.7909 3.79086 14 6 14H18L22 10H42C44.2091 10 46 11.7909 46 14V38C46 40.2091 44.2091 42 42 42H6C3.79086 42 2 40.2091 2 38V18Z" fill="#3B82F6"/>
                        <rect x="0" y="20" width="48" height="20" rx="4" fill="#60A5FA"/>
                    </svg>
                </div>
            </div>
            <div class="dock-item" data-window="contact-window">
                <div class="w-8 h-8">
                    <svg viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <rect width="48" height="48" rx="12" fill="#3B82F6"/>
                        <path d="M12 18L24 28L36 18" stroke="white" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"/>
                        <path d="M12 30V18H36V30H12Z" stroke="white" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                </div>
            </div>
        </div>
    </div>

    <!-- Mobile Fallback View -->
    <div id="mobile-fallback" class="hidden">
        <div class="text-center mb-12">
            <img src="https://avatars.githubusercontent.com/u/68311980" alt="Foto profil Hadi Prasetia" class="w-24 h-24 rounded-full mx-auto mb-4 border-4 border-slate-700 shadow-lg">
            <h1 class="text-3xl font-bold text-white">Hadi Prasetia</h1>
            <p class="text-slate-400">Digital Product Designer & Developer</p>
        </div>
        
        <div class="space-y-4">
            <!-- Mobile About -->
            <div class="bg-slate-900 p-6 rounded-xl shadow-sm border border-slate-800">
                <h2 class="text-xl font-bold text-white mb-3">Tentang Saya</h2>
                <p class="text-slate-400">Saya adalah seorang desainer dan developer yang percaya bahwa desain yang baik adalah perpaduan antara estetika dan fungsionalitas yang mulus.</p>
            </div>
             <!-- Mobile Projects -->
            <div class="bg-slate-900 p-6 rounded-xl shadow-sm border border-slate-800">
                <h2 class="text-xl font-bold text-white mb-4">Proyek Pilihan</h2>
                <div class="space-y-4">
                    <div class="flex items-center gap-4">
                        <img src="https://raw.githubusercontent.com/Harsia-ID/design/refs/heads/main/uiux.png" class="w-16 h-16 rounded-lg object-cover">
                        <div>
                            <h3 class="font-semibold text-slate-200">Mobile Sigil Forging</h3>
                            <a href="#" class="text-sm text-indigo-400">Lihat Detail &rarr;</a>
                        </div>
                    </div>
                     <div class="flex items-center gap-4">
                        <img src="https://raw.githubusercontent.com/Harsia-ID/design/refs/heads/main/vc.png" class="w-16 h-16 rounded-lg object-cover">
                        <div>
                            <h3 class="font-semibold text-slate-200">Visual Communication Codex</h3>
                            <a href="#" class="text-sm text-indigo-400">Lihat Detail &rarr;</a>
                        </div>
                    </div>
                </div>
            </div>
             <!-- Mobile Contact -->
            <div class="bg-slate-900 p-6 rounded-xl shadow-sm text-center border border-slate-800">
                <h2 class="text-xl font-bold text-white mb-3">Mari Terhubung</h2>
                <a href="mailto:hadi.prasetia@example.com" class="bg-indigo-500 text-white font-bold py-2 px-6 rounded-lg hover:bg-indigo-400 transition-all inline-block">
                    Kirim Email
                 </a>
            </div>
        </div>

    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            lucide.createIcons();
            const desktop = document.getElementById('desktop');

            // --- DATA PROYEK ---
            const projectsData = [
                {
                    id: 'mobile-sigil',
                    title: 'Mobile Sigil Forging',
                    shortDesc: 'Studi kasus UI/UX untuk aplikasi seluler.',
                    longDesc: 'Ini adalah studi kasus komprehensif untuk aplikasi mobile, dimulai dari riset pengguna, wireframing, hingga menghasilkan desain antarmuka yang bersih dan modern. Prototipe interaktif dibuat menggunakan Figma untuk memvalidasi alur pengguna.',
                    image: 'https://raw.githubusercontent.com/Harsia-ID/design/refs/heads/main/uiux.png',
                    techStack: ['Figma', 'UI/UX Research', 'Prototyping', 'User Flow'],
                    liveUrl: '#'
                },
                {
                    id: 'visual-codex',
                    title: 'Visual Communication Codex',
                    shortDesc: 'Strategi dan pedoman brand visual.',
                    longDesc: 'Dokumen master yang merinci strategi Komunikasi Visual, termasuk pedoman merek dan struktur naratif, yang penting untuk menjaga integritas cerita di semua media. Tujuannya adalah untuk menciptakan identitas visual yang konsisten dan kuat.',
                    image: 'https://raw.githubusercontent.com/Harsia-ID/design/refs/heads/main/vc.png',
                    techStack: ['Branding', 'Graphic Design', 'Adobe Illustrator', 'Strategy'],
                    liveUrl: '#'
                },
                {
                    id: 'corp-authority',
                    title: 'Corporate Authority Sigil',
                    shortDesc: 'Desain sistem identitas korporat.',
                    longDesc: 'Perancangan sistem visual yang kuat untuk identitas korporat, berfokus pada profesionalisme, konsistensi, dan membangun kembali citra otoritas merek di semua titik kontak, baik digital maupun cetak.',
                    image: 'https://raw.githubusercontent.com/Harsia-ID/design/refs/heads/main/a/corpo.png',
                    techStack: ['Corporate Identity', 'Logo Design', 'Brand Guidelines'],
                    liveUrl: '#'
                },
                {
                    id: 'video-ritual',
                    title: 'Video Ritual Scroll V2',
                    shortDesc: 'Kompilasi motion graphics & video.',
                    longDesc: 'Sebuah kompilasi motion graphics dan narasi visual, yang berfokus pada tempo cepat dan color grading yang agresif untuk retensi audiens yang tinggi di platform digital. Menggunakan Adobe Premiere Pro dan After Effects.',
                    image: 'https://raw.githubusercontent.com/Harsia-ID/design/refs/heads/main/v2.png',
                    techStack: ['Video Editing', 'Motion Graphics', 'Adobe Premiere Pro', 'Color Grading'],
                    liveUrl: '#'
                },
            ];

            // --- FUNGSI TAMPILKAN DETAIL PROYEK ---
            const detailWindow = document.getElementById('project-detail-window');
            const detailWindowTitle = document.getElementById('detail-window-title');
            const detailImage = document.getElementById('detail-image');
            const detailTitle = document.getElementById('detail-title');
            const detailDescription = document.getElementById('detail-description');
            const detailTechStack = document.getElementById('detail-tech-stack');
            const detailLiveUrl = document.getElementById('detail-live-url');

            function showProjectDetail(projectId) {
                const project = projectsData.find(p => p.id === projectId);
                if (!project) return;

                // Populate data
                detailWindowTitle.textContent = project.title;
                detailImage.src = project.image;
                detailTitle.textContent = project.title;
                detailDescription.textContent = project.longDesc;
                
                // Populate tech stack
                detailTechStack.innerHTML = '';
                project.techStack.forEach(tech => {
                    const span = document.createElement('span');
                    span.className = 'bg-slate-700 text-slate-200 px-3 py-1 rounded-full';
                    span.textContent = tech;
                    detailTechStack.appendChild(span);
                });

                // Set live URL
                if (project.liveUrl && project.liveUrl !== '#') {
                    detailLiveUrl.href = project.liveUrl;
                    detailLiveUrl.style.display = 'inline-block';
                } else {
                    detailLiveUrl.style.display = 'none';
                }

                // Show window
                detailWindow.style.display = 'block';
                bringToFront(detailWindow);
            }

            // --- POPULATE JENDELA PROYEK ---
            const projectsGrid = document.getElementById('projects-grid');
            projectsData.forEach(project => {
                const card = document.createElement('div');
                card.className = 'bg-slate-800/50 p-4 rounded-lg border border-white/20';
                card.innerHTML = `
                    <img src="${project.image}" class="rounded-md mb-3 aspect-video object-cover">
                    <h3 class="font-bold text-white">${project.title}</h3>
                    <p class="text-sm text-slate-400 mb-2">${project.shortDesc}</p>
                    <button data-project-id="${project.id}" class="project-detail-btn text-sm font-semibold text-indigo-400 hover:underline">Lihat Detail &rarr;</button>
                `;
                projectsGrid.appendChild(card);
            });

            // Add event listener for detail buttons
            document.querySelectorAll('.project-detail-btn').forEach(btn => {
                btn.addEventListener('click', () => {
                    showProjectDetail(btn.dataset.projectId);
                });
            });
            
            // Date & Time in Top Bar
            const datetimeElement = document.getElementById('datetime');
            function updateClock() {
                if(datetimeElement) {
                    const now = new Date();
                    const options = { weekday: 'short', day: 'numeric', month: 'short', hour: '2-digit', minute: '2-digit' };
                    const formattedDate = now.toLocaleDateString('en-US', options);
                    datetimeElement.textContent = formattedDate;
                }
            }
            updateClock();
            setInterval(updateClock, 1000);

            // Window Management
            let activeWindow = null;
            let zIndexCounter = 10;
            const windows = document.querySelectorAll('.window');

            function bringToFront(windowEl) {
                if (windowEl !== activeWindow) {
                    windows.forEach(w => w.classList.remove('active-window'));
                    windowEl.style.zIndex = ++zIndexCounter;
                    windowEl.classList.add('active-window');
                    activeWindow = windowEl;
                }
            }

            windows.forEach(windowEl => {
                windowEl.addEventListener('mousedown', () => bringToFront(windowEl));
            });

            // Open/Close windows
            const openTriggers = document.querySelectorAll('[data-window]');
            openTriggers.forEach(trigger => {
                trigger.addEventListener('click', () => {
                    const windowId = trigger.dataset.window;
                    const windowEl = document.getElementById(windowId);
                    if (windowEl) {
                        windowEl.style.display = 'block';
                        bringToFront(windowEl);
                    }
                });
            });

            const closeButtons = document.querySelectorAll('.close-btn');
            closeButtons.forEach(btn => {
                btn.addEventListener('click', (e) => {
                    e.stopPropagation();
                    const windowEl = btn.closest('.window');
                    if(windowEl) windowEl.style.display = 'none';
                });
            });


            // Make windows draggable
            function makeDraggable(windowEl) {
                const titleBar = windowEl.querySelector('.title-bar');
                let offsetX, offsetY;
                let isDragging = false;
                
                titleBar.addEventListener('mousedown', (e) => {
                    isDragging = true;
                    offsetX = e.clientX - windowEl.getBoundingClientRect().left;
                    offsetY = e.clientY - windowEl.getBoundingClientRect().top;
                    
                    document.addEventListener('mousemove', onMouseMove);
                    document.addEventListener('mouseup', onMouseUp);
                });

                function onMouseMove(e) {
                    if (!isDragging) return;
                    
                    let newX = e.clientX - offsetX;
                    let newY = e.clientY - offsetY;
                    
                    // Constrain to viewport
                    const rect = desktop.getBoundingClientRect();
                    newX = Math.max(0, Math.min(newX, rect.width - windowEl.offsetWidth));
                    newY = Math.max(28, Math.min(newY, rect.height - windowEl.offsetHeight)); // Constrain below top bar

                    windowEl.style.left = `${newX}px`;
                    windowEl.style.top = `${newY}px`;
                }

                function onMouseUp() {
                    isDragging = false;
                    document.removeEventListener('mousemove', onMouseMove);
                    document.removeEventListener('mouseup', onMouseUp);
                }
            }
            windows.forEach(makeDraggable);
        });
    </script>
</body>
</html>

