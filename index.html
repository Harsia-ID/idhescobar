<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HADI PRASETIA | KEEPER OF THE LOST REALMS</title>
    <!-- Memuat Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Memuat ikon Lucide untuk elemen fantasi -->
    <script src="https://unpkg.com/lucide@latest"></script>
    <style>
        /* Menggunakan font Inter sebagai standar dan Cinzel untuk aksen fantasi */
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@100..900&family=Cinzel:wght@400;700&display=swap');
        
        /* Definisi Warna Grayscale & Cyan Aksen */
        :root {
            --accent-color: #e0f2f1; /* Light Cyan/White for subtle glow */
            --glow-strong: rgba(224, 242, 241, 0.7); /* Stronger glow color */
            --glow-soft: rgba(224, 242, 241, 0.2);  /* Softer glow color */
            --border-color: #4b5563; /* Darker gray for subtle borders */
            --ethereal-dust: rgba(189, 212, 255, 0.5); /* Subtle blue-gray for cursor trail */
        }

        body {
            font-family: 'Inter', sans-serif;
            background-color: #030712; /* Deep dark background color */
            color: #d1d5db; /* Light gray text for contrast */
            overflow-x: hidden; /* Prevent horizontal scroll */
            padding-bottom: 0; 
        }
        
        /* Gaya untuk judul yang lebih fantastis */
        .fantasy-title {
            font-family: 'Cinzel', serif;
            letter-spacing: 0.1em;
        }

        /* --- CURSOR TRAIL STYLES --- */
        .cursor-dot {
            position: fixed;
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background-color: var(--ethereal-dust);
            pointer-events: none;
            user-select: none;
            transform: translate(-50%, -50%) scale(0);
            mix-blend-mode: screen; 
            box-shadow: 0 0 10px 2px var(--ethereal-dust);
            z-index: 9999;
            transition: opacity 0.5s ease, transform 0.1s linear;
            opacity: 0;
            will-change: transform, opacity;
        }

        /* --- GRAYSCALE GLOW EFFECT --- */
        .neon-glow {
            /* Fokus pada warna putih/cyan tipis untuk efek terminal yang canggih */
            text-shadow: 0 0 5px var(--glow-strong), 0 0 15px var(--glow-soft); 
        }

        .border-glow {
            /* Consistent gray/white shadow for borders */
            box-shadow: 0 0 8px var(--glow-soft), 0 0 15px rgba(255, 255, 255, 0.1);
            transition: all 0.3s ease;
        }

        .border-glow:hover {
            box-shadow: 0 0 10px var(--glow-strong), 0 0 20px rgba(255, 255, 255, 0.4);
            transform: translateY(-2px);
        }

        /* Subtle Background Animation (Smoke/Magic) - Grayscale */
        .hero-bg-dark {
            /* Disesuaikan untuk gradien abu-abu/hitam */
            background-image: radial-gradient(at 27% 37%, hsla(210,10%,70%,0.15) 0px, transparent 40%),
                              radial-gradient(at 97% 21%, hsla(0,0%,50%,0.15) 0px, transparent 40%),
                              radial-gradient(at 19% 87%, hsla(0,0%,4%,1) 0px, transparent 50%),
                              radial-gradient(at 66% 63%, hsla(0,0%,70%,0.2) 0px, transparent 50%);
            background-size: 200% 200%;
            animation: move-bg 60s infinite alternate;
        }

        @keyframes move-bg {
            from { background-position: 0% 0%; }
            to { background-position: 100% 100%; }
        }

        /* Parallax JS akan menyesuaikan properti transform */
        .parallax-element {
            transition: transform 0.1s ease-out;
        }
        
        /* Ikon Tengkorak Kustom menggunakan SVG */
        .skull-icon {
            filter: drop-shadow(0 0 5px var(--glow-strong));
        }

        /* Styling Kustom untuk Kartu Proyek */
        .project-card-fantasy {
            transition: transform 0.1s linear, box-shadow 0.3s ease;
        }

        /* --- STYLES FOR SLIDING CAPSULE NAV INDICATOR (Fixed Left) --- */
        .nav-links-container {
            position: relative;
            padding-top: 8px; 
            padding-bottom: 8px;
            padding-left: 8px;
            padding-right: 8px;
        }

        #nav-indicator {
            position: absolute;
            border-radius: 9999px; 
            
            /* Latar Belakang Glow - Grayscale */
            background-color: rgba(224, 242, 241, 0.1); /* Very subtle light background */
            box-shadow: 0 0 10px var(--glow-strong); 
            
            transition: all 0.35s ease-in-out; 
            z-index: 10; 
            top: 0;
            left: 0;
            opacity: 0; 
        }

        .nav-link-item {
            padding: 8px 0px; 
            width: 100%; 
            display: inline-flex;
            align-items: center;
            justify-content: center;
            border-radius: 9999px; 
            transition: color 0.3s;
            z-index: 20; 
            position: relative;
        }

        .nav-link-item.active {
            color: var(--accent-color) !important; /* Warna putih cemerlang untuk ikon aktif */
            text-shadow: 0 0 5px var(--glow-strong); 
        }

        /* Tooltips */
        .nav-link-item span {
            transform: none; 
            left: 100%; 
            pointer-events: none; 
        }

        /* --- Custom CSS for Toggle Menu Logic --- */
        .floating-nav {
            transition: transform 0.5s ease-in-out, opacity 0.5s ease-in-out;
            transform: translateX(0) translateY(-50%); 
            opacity: 1;
        }

        .floating-nav.closed {
            transform: translateX(-128px) translateY(-50%); 
            opacity: 0;
        }

        /* --- New/Adapted Styles for Project Cards & Filtering --- */
        .filter-btn {
            background-color: #1f2937; /* gray-800 */
            color: #d1d5db; /* text-gray-300 */
            transition: all 0.3s ease;
            border: 1px solid #374151; /* gray-700 */
            border-radius: 9999px; /* rounded-full */
        }
        .filter-btn.active {
            background-color: #e0f2f1; /* accent-color */
            color: #030712; /* dark text */
            font-weight: 700;
            box-shadow: 0 0 10px var(--glow-strong);
            transform: scale(1.05);
        }
        .filter-btn:hover:not(.active) {
            background-color: #374151; /* gray-700 */
            transform: scale(1.03);
        }
        
        .project-card {
            background-color: #1f2937; /* gray-800 */
            padding: 1rem;
            border-radius: 0.75rem;
            border: 1px solid #374151;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }
        .project-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.4), 0 0 10px var(--glow-soft);
        }
        .project-card.hidden {
            display: none;
            opacity: 0;
            transform: scale(0.9);
        }
        .project-image {
            aspect-ratio: 16 / 10;
            object-fit: cover;
            border-radius: 0.5rem;
            margin-bottom: 1rem;
            border: 1px solid #374151;
            filter: grayscale(100%); /* Apply grayscale to project images */
        }
        
        /* Modal Styles */
        #project-modal { transition: opacity 0.3s ease-out; }
        #project-modal.is-visible { opacity: 1; pointer-events: auto; }
        #project-modal.is-visible #modal-content { transform: scale(1); }
        #modal-content {
            background-color: #0f172a; /* Slate-900 for dark modal content */
            border: 2px solid #374151;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.6);
            transition: transform 0.3s cubic-bezier(0.2, 0.8, 0.2, 1);
        }
        .no-scroll { overflow: hidden; }

        /* Accordion Styles (adapted to Dark Fantasy Grayscale) */
        details > summary {
            list-style: none;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            background-color: #1f2937; /* gray-800 */
            color: #d1d5db;
            transition: background-color 0.3s ease;
            padding: 0.75rem 1rem;
            border-radius: 0.75rem;
            border: 1px solid #374151;
        }
        details > summary:hover { 
            background-color: #374151; /* gray-700 */
            box-shadow: 0 0 5px var(--glow-soft);
        }
        details .accordion-content {
            overflow: hidden;
            transition: max-height 0.5s cubic-bezier(0.2, 0.8, 0.2, 1), padding 0.5s cubic-bezier(0.2, 0.8, 0.2, 1);
            max-height: 0;
            padding-top: 0;
        }
        details[open] .accordion-content {
            max-height: 600px; 
            padding-top: 1rem;
        }
        details .accordion-icon { transition: transform 0.3s ease; }
        details[open] > summary .accordion-icon { transform: rotate(90deg); }
        
        .timeline-line {
            border-color: #4b5563 !important; /* gray-600 */
        }

        /* --- NEW GALLERY STYLES --- */
        .overlay-container {
            /* To ensure all children scale correctly */
            transform-origin: center center;
            /* Default scale and transition for the grid item */
            transition: transform 0.3s ease-out, box-shadow 0.3s ease;
            height: 100%; /* Important for grid auto-rows */
        }
        .overlay-container:hover {
            transform: scale(1.03);
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
        }
        .overlay-container .overlay-content {
            opacity: 0;
            transition: opacity 0.4s ease-in-out;
        }
        .overlay-container:hover .overlay-content {
            opacity: 1;
        }

        .gallery-image {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transform: scale(1.0);
            transition: transform 0.5s, filter 0.5s;
            filter: grayscale(100%);
        }
        .overlay-container:hover .gallery-image {
            transform: scale(1.08);
            filter: grayscale(0%);
        }

        /* Loader Style */
        .image-loader {
            transition: opacity 0.3s;
        }

        /* Modal specific styles for Gallery (2-column view) */
        #gallery-modal {
            transition: opacity 0.3s ease-out;
            opacity: 0;
            pointer-events: none;
        }
        #gallery-modal.active {
            opacity: 1;
            pointer-events: auto;
        }
        #gallery-modal.active > div {
            transform: scale(1);
        }
        #gallery-modal-content {
            background-color: #0f172a; /* Slate-900 */
            border: 2px solid #374151;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.6);
            transition: transform 0.3s cubic-bezier(0.2, 0.8, 0.2, 1);
            transform: scale(0.95);
        }

        
    </style>
</head>
<body>
    <!-- Container for Cursor Trail Dots -->
    <div id="cursor-trail-container"></div>

    <!-- Menu Toggle Button (The Activation Sigil) -->
    <button id="nav-toggle-button" class="fixed top-8 left-8 z-50 p-3 rounded-full bg-gray-800/80 text-white border-glow border border-gray-600/50 shadow-lg hover:bg-gray-700 transition duration-300">
        <i id="nav-toggle-icon" data-lucide="menu" class="w-6 h-6 neon-glow text-gray-200"></i>
    </button>

    <!-- Navigasi Bar (Fixed Left - Floating Icon, HIDDEN by default) -->
    <nav id="main-nav" class="fixed top-1/2 left-8 z-50 bg-gray-950/90 backdrop-blur-sm shadow-2xl shadow-gray-900/50 w-20 rounded-xl border border-gray-800/50 floating-nav closed"> 
        <div class="p-2 flex items-center justify-center">
            <!-- Menu Navigasi (Icon Only, Archaic Fantasy Terms) -->
            <div class="nav-links-container flex flex-col space-y-4 text-sm font-medium relative justify-center">
                <!-- Nav Indicator - The Sliding Capsule -->
                <div id="nav-indicator"></div>
                
                <!-- Links (Icons only for vertical bar, includes hover tooltip to the RIGHT) -->
                <a href="#hero" data-target="hero" class="nav-link-item group active text-gray-400 hover:text-white transition duration-300 relative">
                    <i data-lucide="castle" class="w-6 h-6"></i>
                    <span class="absolute left-full ml-4 opacity-0 group-hover:opacity-100 transition-opacity text-xs bg-gray-700 text-white px-2 py-1 rounded-md fantasy-title whitespace-nowrap top-1/2 -translate-y-1/2">THE SANCTUARY</span>
                </a>
                <a href="#about" data-target="about" class="nav-link-item group text-gray-400 hover:text-white transition duration-300 relative">
                    <i data-lucide="scroll" class="w-6 h-6"></i>
                    <span class="absolute left-full ml-4 opacity-0 group-hover:opacity-100 transition-opacity text-xs bg-gray-700 text-white px-2 py-1 rounded-md fantasy-title whitespace-nowrap top-1/2 -translate-y-1/2">CV & THE GRIMOIRE</span>
                </a>
                <a href="#principles" data-target="principles" class="nav-link-item group text-gray-400 hover:text-white transition duration-300 relative">
                    <i data-lucide="palette" class="w-6 h-6"></i> 
                    <span class="absolute left-full ml-4 opacity-0 group-hover:opacity-100 transition-opacity text-xs bg-gray-700 text-white px-2 py-1 rounded-md fantasy-title whitespace-nowrap top-1/2 -translate-y-1/2">PRINCIPLES OF THE RITE</span>
                </a>
                <a href="#karya" data-target="karya" class="nav-link-item group text-gray-400 hover:text-white transition duration-300 relative">
                    <i data-lucide="file-text" class="w-6 h-6"></i> 
                    <span class="absolute left-full ml-4 opacity-0 group-hover:opacity-100 transition-opacity text-xs bg-gray-700 text-white px-2 py-1 rounded-md fantasy-title whitespace-nowrap top-1/2 -translate-y-1/2">ARTIFACTS & LORE</span>
                </a>
                <a href="#gallery" data-target="gallery" class="nav-link-item group text-gray-400 hover:text-white transition duration-300 relative">
                    <i data-lucide="layout-grid" class="w-6 h-6"></i>
                    <span class="absolute left-full ml-4 opacity-0 group-hover:opacity-100 transition-opacity text-xs bg-gray-700 text-white px-2 py-1 rounded-md fantasy-title whitespace-nowrap top-1/2 -translate-y-1/2">THE ARMORY (VISUALS)</span>
                </a>
                <a href="#contact" data-target="contact" class="nav-link-item group text-gray-400 hover:text-white transition duration-300 relative">
                    <i data-lucide="send" class="w-6 h-6"></i>
                    <span class="absolute left-full ml-4 opacity-0 group-hover:opacity-100 transition-opacity text-xs bg-gray-700 text-white px-2 py-1 rounded-md fantasy-title whitespace-nowrap top-1/2 -translate-y-1/2">INITIATE RITUAL</span>
                </a>
            </div>
        </div>
    </nav>

    <!-- 1. Hero Section (The Sancturary) -->
    <section id="hero" class="hero-bg-dark min-h-screen flex items-center justify-center relative overflow-hidden text-center p-8">
        <!-- Parallax Elements - creating depth and a "living" effect -->
        <div id="parallax-layer-1" class="absolute inset-0 z-0 opacity-10 parallax-element" data-depth="10">
            <div class="w-full h-full bg-contain bg-repeat opacity-10" style="background-image: url('https://placehold.co/1000x1000/030712/e0f2f1?text=Magic+Runes'); filter: grayscale(100%);"></div>
        </div>
        <div id="parallax-layer-2" class="absolute inset-0 z-0 opacity-5 parallax-element" data-depth="20">
            <div class="w-full h-full bg-contain bg-repeat opacity-10" style="background-image: url('https://placehold.co/1000x1000/030712/94a3b8?text=Blood+Sigil'); filter: grayscale(100%);"></div>
        </div>

        <div class="z-20 max-w-4xl mx-auto">
            <!-- Main Dark Fantasy Symbol (Skull/Sigil) -->
            <svg class="w-20 h-20 mx-auto mb-6 text-gray-400 skull-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
                <path d="M12 2L9 6H3V18H9L12 22L15 18H21V6H15L12 2Z" fill="#1f1a26" stroke="#94a3b8"/>
                <circle cx="9" cy="11" r="1.5" fill="#e0f2f1" stroke="#94a3b8"/>
                <circle cx="15" cy="11" r="1.5" fill="#e0f2f1" stroke="#94a3b8"/>
                <path d="M10 16c.5.5 1 1 2 1s1.5-.5 2-1" stroke="#94a3b8"/>
                <path d="M12 2v20" stroke-dasharray="2 3"/>
            </svg>
            
            <h1 class="fantasy-title text-6xl sm:text-7xl lg:text-8xl font-extrabold mb-4 text-gray-200 neon-glow">
                HADI PRASETIA
            </h1>
            <p class="text-xl sm:text-2xl text-gray-300 mb-8 neon-glow">
                KEEPER OF THE LOST REALMS: MASTER OF DIGITAL LORE
            </p>
            <a href="#karya" class="inline-block px-8 py-3 text-lg font-bold fantasy-title rounded-lg bg-gray-800 hover:bg-gray-700 text-white transition duration-300 border-glow border-2 border-gray-600/50">
                HARK! THE LOST ARTIFACTS &rarr;
            </a>
        </div>
    </section>

    <!-- 2. About Section (The Grimoire) - Now CV Focused -->
    <section id="about" class="py-20 lg:py-32 bg-gray-900 border-t border-b border-gray-800/50">
        <div class="max-w-6xl mx-auto px-4">
            <h2 class="fantasy-title text-4xl font-bold text-center mb-12 text-gray-400 neon-glow">
                CV & The Grimoire (Skill Codex & Profile)
            </h2>
            <p class="text-center text-lg max-w-3xl mx-auto text-gray-400 mb-12">
                [A RECORD FROM THE SCROLLS: PROFILE] To decipher raw knowledge and scattered signals (complex data) into lucid visual tales. To forge communication systems intuitive and unyielding.
            </p>
            
            <!-- CV Details (Education & Experience - From Old Portfolio) -->
            <div class="space-y-6 max-w-4xl mx-auto mb-16">
                <h3 class="fantasy-title text-2xl font-bold mb-4 text-gray-300 neon-glow border-b border-gray-800 pb-2">
                    CHRONICLES OF SERVICE
                </h3>
                <details>
                    <summary class="text-base font-semibold">
                        <i data-lucide="book-open-text" class="w-5 h-5 accordion-icon neon-glow"></i>
                        Scrolls of Academia (The Lore of Education)
                    </summary>
                    <div class="accordion-content text-base space-y-3 pl-2" style="color: #a1a1a6;">
                        <div class="border-l-2 pl-4 ml-2 timeline-line">
                            <p class="font-semibold text-gray-200">SMK 1 Perguruan Cikini</p>
                            <p>Discipline: Technical Lore of Compute & Network (TKJ)</p>
                            <p>Rite of Completion: 2025 (Expected)</p>
                            <!-- UPDATED LEARNING MODULES -->
                            <ul class="list-disc list-inside text-sm mt-2 space-y-1">
                                <li>The Rite of Linux & Server Enthrallment (Server & Client Configuration).</li>
                                <li>Studies in Network Topology & Mikrotik (Advanced Routing & Infrastructure).</li>
                                <li>Network Simulation Forging using the arcane tool of Cisco Packet Tracer.</li>
                            </ul>
                            <!-- END UPDATED LEARNING MODULES -->
                        </div>
                    </div>
                </details>
                <details>
                    <summary class="text-base font-semibold">
                        <i data-lucide="swords" class="w-5 h-5 accordion-icon neon-glow"></i>
                        The Warden's Journeys (The Deeds of Experience)
                    </summary>
                    <div class="accordion-content space-y-4 text-base pl-2" style="color: #a1a1a6;">
                            <div class="border-l-2 pl-4 ml-2 timeline-line">
                                <p class="font-semibold text-gray-200">PT. PLN Indonesia Power (Apprenticeship)</p>
                                <p>Role: HAR/INSTRUMENT</p>
                                <p>Tribute Period: October 2023 - January 2024</p>
                            </div>
                    </div>
                </details>
            </div>


            <!-- Wardens' Tools (Mantra & Gear) Content - SKILLS SECTION -->
            <h3 class="fantasy-title text-2xl font-bold mt-12 mb-6 text-gray-400 neon-glow border-b border-gray-800 pb-2">
                WARDENS' MANTRAS (THE SKILL CODEX)
            </h3>
            <div class="grid md:grid-cols-2 gap-12 items-start">
                
                <!-- Skill Group 1: Video & Visual -->
                <div>
                    <h4 class="text-xl font-semibold mb-3 text-gray-300">Artistry of the Moving Image</h4>
                    <div class="flex flex-wrap gap-3 text-sm">
                        <span class="px-4 py-2 bg-gray-800/50 text-gray-300 rounded-full border border-gray-700/50 border-glow">Adobe Premiere Pro</span>
                        <span class="px-4 py-2 bg-gray-800/50 text-gray-300 rounded-full border border-gray-700/50 border-glow">CapCut (Mobile Forge)</span>
                        <span class="px-4 py-2 bg-gray-800/50 text-gray-300 rounded-full border border-gray-700/50 border-glow">Adobe Illustrator</span>
                        <span class="px-4 py-2 bg-gray-800/50 text-gray-300 rounded-full border border-gray-700/50 border-glow">Adobe Photoshop</span>
                        <span class="px-4 py-2 bg-gray-800/50 text-gray-300 rounded-full border border-gray-700/50 border-glow">Canva (Glyph Creation)</span>
                    </div>
                </div>

                <!-- Skill Group 2: UI/UX & Web -->
                <div>
                    <h4 class="text-xl font-semibold mb-3 text-gray-300">Rites of Sigil Crafting (UI/UX)</h4>
                    <div class="flex flex-wrap gap-3 text-sm mb-6">
                        <span class="px-4 py-2 bg-gray-800/50 text-gray-300 rounded-full border border-gray-700/50 border-glow">UI/UX Design Protocol</span>
                        <span class="px-4 py-2 bg-gray-800/50 text-gray-300 rounded-full border border-gray-700/50 border-glow">Figma (Prototyping)</span>
                        <span class="px-4 py-2 bg-gray-800/50 text-gray-300 rounded-full border border-gray-700/50 border-glow">Adobe XD</span>
                    </div>
                    
                    <h4 class="text-xl font-semibold mb-3 text-gray-300">Scrolls of Web Forging</h4>
                    <div class="flex flex-wrap gap-3 text-sm">
                        <span class="px-4 py-2 bg-gray-800/50 text-gray-300 rounded-full border border-gray-700/50 border-glow">HTML/CSS</span>
                        <span class="px-4 py-2 bg-gray-800/50 text-gray-300 rounded-full border border-gray-700/50 border-glow">JavaScript</span>
                        <span class="px-4 py-2 bg-gray-800/50 text-gray-300 rounded-full border border-gray-700/50 border-glow">PHP & Laravel (Backend Lore)</span>
                        <span class="px-4 py-2 bg-gray-800/50 text-gray-300 rounded-full border border-gray-700/50 border-glow">Responsive Design</span>
                    </div>
                </div>

            </div>
            
            <!-- CV Call to Action -->
            <div class="text-center mt-16">
                <a href="#" class="inline-block px-8 py-3 text-lg font-bold fantasy-title rounded-lg bg-gray-800 hover:bg-gray-700 text-white transition duration-300 border-glow border-2 border-gray-600/50">
                    DOWNLOAD THE COMPLETE CV SCROLL (PDF) &rarr;
                </a>
            </div>
        </div>
    </section>

    <!-- 3. Principles of the Rite (DKV Section) -->
    <section id="principles" class="py-20 lg:py-32 bg-gray-950 border-t border-b border-gray-800/50">
        <div class="max-w-6xl mx-auto px-4">
            <h2 class="fantasy-title text-4xl font-bold text-center mb-16 text-gray-400 neon-glow">
                Principles of the Rite (Visual Communications DKV)
            </h2>
            <p class="text-center text-lg max-w-4xl mx-auto text-gray-400 mb-12">
                The Lore Keeper masters the esoteric arts of **Visual Communication**, ensuring every sigil, scroll, and artifact speaks with clarity, power, and absolute authority.
            </p>
            <div class="grid md:grid-cols-2 lg:grid-cols-4 gap-8 text-center">
                <!-- DKV Element 1: Typography -->
                <div class="p-6 bg-gray-900 rounded-xl border border-gray-800 border-glow">
                    <i data-lucide="type" class="w-10 h-10 text-gray-500 mb-4 mx-auto neon-glow"></i>
                    <h3 class="fantasy-title text-xl font-bold text-gray-300 mb-2">Glyphic Authority</h3>
                    <p class="text-gray-400 text-sm">Mastery over the written forms (Typography) to control tone and focus.</p>
                </div>
                <!-- DKV Element 2: Layout -->
                <div class="p-6 bg-gray-900 rounded-xl border border-gray-800 border-glow">
                    <i data-lucide="layout-dashboard" class="w-10 h-10 text-gray-500 mb-4 mx-auto neon-glow"></i>
                    <h3 class="fantasy-title text-xl font-bold text-gray-300 mb-2">Aetheric Geometry</h3>
                    <p class="text-gray-400 text-sm">Sacred Law of Arrangement (Layout & Composition) for maximum impact.</p>
                </div>
                <!-- DKV Element 3: Color Theory -->
                <div class="p-6 bg-gray-900 rounded-xl border border-gray-800 border-glow">
                    <i data-lucide="eyedropper" class="w-10 h-10 text-gray-500 mb-4 mx-auto neon-glow"></i>
                    <h3 class="fantasy-title text-xl font-bold text-gray-300 mb-2">Blood Hues & Shade</h3>
                    <p class="text-gray-400 text-sm">The study of Chromatic Theory to evoke primal emotion and focus.</p>
                </div>
                <!-- DKV Element 4: Visual Hierarchy -->
                <div class="p-6 bg-gray-900 rounded-xl border border-gray-800 border-glow">
                    <i data-lucide="list-ordered" class="w-10 h-10 text-gray-500 mb-4 mx-auto neon-glow"></i>
                    <h3 class="fantasy-title text-xl font-bold text-gray-300 mb-2">Lore Ranking</h3>
                    <p class="text-gray-400 text-sm">Structuring intelligence using Visual Hierarchy for immediate clarity.</p>
                </div>
            </div>
        </div>
    </section>

    <!-- 4. Karya Section (Projects - Data Fragments) - Artifacts & Lore Focused -->
    <section id="karya" class="py-20 lg:py-32 bg-gray-900">
        <div class="max-w-7xl mx-auto px-4">
            <h2 class="fantasy-title text-4xl font-bold text-center mb-4 text-gray-400 neon-glow">
                The Lost Artifacts (Critical Quests)
            </h2>
            <p class="text-center text-xl font-medium text-gray-400 mb-10">
                PROJECT DOCUMENTS & CASE FILES: Forged with Visual Communication & Technical Lore.
            </p>
            
            <!-- Project Filters (Adapted from old portfolio) -->
            <div id="project-filters" class="flex flex-wrap justify-center gap-2 mb-12">
                <button class="filter-btn px-4 py-1.5 rounded-full text-sm font-semibold active" data-filter="all">All Artifacts</button>
                <button class="filter-btn px-4 py-1.5 rounded-full text-sm font-semibold" data-filter="video">Visual Lore</button>
                <button class="filter-btn px-4 py-1.5 rounded-full text-sm font-semibold" data-filter="ui-ux">Sigil Forging (UI/UX)</button>
                <button class="filter-btn px-4 py-1.5 rounded-full text-sm font-semibold" data-filter="art">Eldritch Arts</button>
            </div>
            
            <!-- Project Grid (Populated by JS) -->
            <div id="project-grid" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8">
                <!-- Project cards will be dynamically inserted here by JavaScript -->
            </div>
        </div>
    </section>
    
    <!-- 5. Galeri Section (Galeri Artefak) -->
    <section id="gallery" class="py-20 lg:py-32 bg-gray-950 border-t border-b border-gray-800/50">
        <div class="max-w-7xl mx-auto px-4">
            <h2 class="fantasy-title text-4xl font-bold text-center mb-4 text-gray-400 neon-glow">
                The Great Armory (Digital Artifacts)
            </h2>
            <p class="text-center text-xl font-medium text-gray-400 mb-12">
                A VISUAL RECORD: Graphics, UI/UX Concepts, and Enchanted Glyphs.
            </p>
            
            <!-- GALLERY CONTENT (Integrated from your provided file) -->
            <div id="gallery-grid" class="grid grid-cols-2 md:grid-cols-5 md:auto-rows-[250px] gap-4">
                
                <a href="#" class="gallery-item overlay-container group relative block overflow-hidden rounded-2xl cursor-pointer md:col-span-2 md:row-span-2 border-2 border-gray-800 hover:border-gray-600" data-title="Sudut Pandang (A Gaze Reflected)" data-description="Finding stillness amidst the urban sprawl. A captured moment of reflection, often missed in the chaos.">
                    <div class="image-loader absolute inset-0 flex items-center justify-center bg-gray-800 transition-opacity duration-300 z-10"><div class="w-8 h-8 border-4 border-gray-600 border-t-white rounded-full animate-spin"></div></div>
                    <img loading="lazy" decoding="async" src="https://raw.githubusercontent.com/Harsia-ID/idhescobar/refs/heads/main/img/IMG_2288.jpg" alt="Gallery photo 1" class="gallery-image opacity-0 transform transition-all duration-500">
                    <div class="overlay-content absolute inset-0 bg-black/50 flex items-end p-4"><h4 class="fantasy-title text-white text-lg font-bold">Sudut Pandang</h4></div>
                </a>

                <a href="#" class="gallery-item overlay-container group relative block overflow-hidden rounded-2xl cursor-pointer md:col-span-1 border-2 border-gray-800 hover:border-gray-600" data-title="Siluet Senja (Twilight Silhouette)" data-description="A play of shadow and light during the descent of dusk, forging a dramatic portrait.">
                    <div class="image-loader absolute inset-0 flex items-center justify-center bg-gray-800 transition-opacity duration-300 z-10"><div class="w-8 h-8 border-4 border-gray-600 border-t-white rounded-full animate-spin"></div></div>
                    <img loading="lazy" decoding="async" src="https://raw.githubusercontent.com/Harsia-ID/idhescobar/refs/heads/main/img/IMG_2333.jpg" alt="Gallery photo 2" class="gallery-image opacity-0 w-full h-full object-cover transform transition-all duration-500">
                    <div class="overlay-content absolute inset-0 bg-black/50 flex items-end p-4"><h4 class="fantasy-title text-white text-lg font-bold">Siluet Senja</h4></div>
                </a>
                
                <a href="#" class="gallery-item overlay-container group relative block overflow-hidden rounded-2xl cursor-pointer md:col-span-2 border-2 border-gray-800 hover:border-gray-600" data-title="Tatapan Monokrom (Monochrome Gaze)" data-description="A raw expression encased in monochrome hues. The profound strength of a portrait without the distraction of color.">
                    <div class="image-loader absolute inset-0 flex items-center justify-center bg-gray-800 transition-opacity duration-300 z-10"><div class="w-8 h-8 border-4 border-gray-600 border-t-white rounded-full animate-spin"></div></div>
                    <img loading="lazy" decoding="async" src="https://raw.githubusercontent.com/Harsia-ID/idhescobar/refs/heads/main/img/IMG_2334.jpg" alt="Gallery photo 3" class="gallery-image opacity-0 w-full h-full object-cover transform transition-all duration-500">
                    <div class="overlay-content absolute inset-0 bg-black/50 flex items-end p-4"><h4 class="fantasy-title text-white text-lg font-bold">Tatapan Monokrom</h4></div>
                </a>
                
                <a href="#" class="gallery-item overlay-container group relative block overflow-hidden rounded-2xl cursor-pointer md:col-span-2 border-2 border-gray-800 hover:border-gray-600" data-title="Kontemplasi Urban (Urban Contemplation)" data-description="A fleeting pause within the urban landscape. A quiet moment that is often overlooked in the rush.">
                    <div class="image-loader absolute inset-0 flex items-center justify-center bg-gray-800 transition-opacity duration-300 z-10"><div class="w-8 h-8 border-4 border-gray-600 border-t-white rounded-full animate-spin"></div></div>
                    <img loading="lazy" decoding="async" src="https://raw.githubusercontent.com/Harsia-ID/idhescobar/refs/heads/main/img/IMG_2335.jpg" alt="Gallery photo 4" class="gallery-image opacity-0 w-full h-full object-cover transform transition-all duration-500">
                    <div class="overlay-content absolute inset-0 bg-black/50 flex items-end p-4"><h4 class="fantasy-title text-white text-lg font-bold">Kontemplasi Urban</h4></div>
                </a>
                
                <a href="#" class="gallery-item overlay-container group relative block overflow-hidden rounded-2xl cursor-pointer md:col-span-1 border-2 border-gray-800 hover:border-gray-600" data-title="Melangkah (The Stride)" data-description="Traversing city streets, seeking inspiration from every corner and motion.">
                   <div class="image-loader absolute inset-0 flex items-center justify-center bg-gray-800 transition-opacity duration-300 z-10"><div class="w-8 h-8 border-4 border-gray-600 border-t-white rounded-full animate-spin"></div></div>
                   <img loading="lazy" decoding="async" src="https://raw.githubusercontent.com/Harsia-ID/idhescobar/refs/heads/main/img/IMG_2336.jpg" alt="Gallery photo 5" class="gallery-image opacity-0 w-full h-full object-cover transform transition-all duration-500">
                   <div class="overlay-content absolute inset-0 bg-black/50 flex items-end p-4"><h4 class="fantasy-title text-white text-lg font-bold">Melangkah</h4></div>
                </a>

                <a href="#" class="gallery-item overlay-container group relative block overflow-hidden rounded-2xl cursor-pointer md:col-span-2 md:row-span-2 border-2 border-gray-800 hover:border-gray-600" data-title="Cahaya Pagi (Morning Light)" data-description="A portrait bathed in soft, natural light, highlighting subtle details and a tranquil atmosphere.">
                   <div class="image-loader absolute inset-0 flex items-center justify-center bg-gray-800 transition-opacity duration-300 z-10"><div class="w-8 h-8 border-4 border-gray-600 border-t-white rounded-full animate-spin"></div></div>
                   <img loading="lazy" decoding="async" src="https://raw.githubusercontent.com/Harsia-ID/idhescobar/refs/heads/main/img/IMG_2372.jpg" alt="Gallery photo 7" class="gallery-image opacity-0 w-full h-full object-cover transform transition-all duration-500">
                   <div class="overlay-content absolute inset-0 bg-black/50 flex items-end p-4"><h4 class="fantasy-title text-white text-lg font-bold">Cahaya Pagi</h4></div>
                </a>

                <a href="#" class="gallery-item overlay-container group relative block overflow-hidden rounded-2xl cursor-pointer md:col-span-1 border-2 border-gray-800 hover:border-gray-600" data-title="Gerak Kabur (Motion Blur Rite)" data-description="An experiment with panning techniques to capture the essence of movement and velocity.">
                   <div class="image-loader absolute inset-0 flex items-center justify-center bg-gray-800 transition-opacity duration-300 z-10"><div class="w-8 h-8 border-4 border-gray-600 border-t-white rounded-full animate-spin"></div></div>
                   <img loading="lazy" decoding="async" src="https://raw.githubusercontent.com/Harsia-ID/idhescobar/refs/heads/main/img/IMG_2350.jpg" alt="Gallery photo 6" class="gallery-image opacity-0 w-full h-full object-cover transform transition-all duration-500">
                   <div class="overlay-content absolute inset-0 bg-black/50 flex items-end p-4"><h4 class="fantasy-title text-white text-lg font-bold">Gerak Kabur</h4></div>
                </a>
                
                <a href="#" class="gallery-item overlay-container group relative block overflow-hidden rounded-2xl cursor-pointer md:col-span-2 border-2 border-gray-800 hover:border-gray-600" data-title="Di Balik Lensa (Behind the Lens)" data-description="Searching for stories from the other side. Every soul holds a unique perspective to share.">
                   <div class="image-loader absolute inset-0 flex items-center justify-center bg-gray-800 transition-opacity duration-300 z-10"><div class="w-8 h-8 border-4 border-gray-600 border-t-white rounded-full animate-spin"></div></div>
                   <img loading="lazy" decoding="async" src="https://raw.githubusercontent.com/Harsia-ID/idhescobar/refs/heads/main/img/IMG_2429.jpg" alt="Gallery photo 8" class="gallery-image opacity-0 w-full h-full object-cover transform transition-all duration-500">
                   <div class="overlay-content absolute inset-0 bg-black/50 flex items-end p-4"><h4 class="fantasy-title text-white text-lg font-bold">Di Balik Lensa</h4></div>
                </a>
                
                <a href="#" class="gallery-item overlay-container group relative block overflow-hidden rounded-2xl cursor-pointer md:col-span-1 border-2 border-gray-800 hover:border-gray-600" data-title="Ruang Terbuka (Open Terrain)" data-description="Finding freedom in the open air. A blend of subject and expansive landscape.">
                   <div class="image-loader absolute inset-0 flex items-center justify-center bg-gray-800 transition-opacity duration-300 z-10"><div class="w-8 h-8 border-4 border-gray-600 border-t-white rounded-full animate-spin"></div></div>
                   <img loading="lazy" decoding="async" src="https://raw.githubusercontent.com/Harsia-ID/idhescobar/refs/heads/main/img/IMG_2477.JPG" alt="Gallery photo 9" class="gallery-image opacity-0 w-full h-full object-cover transform transition-all duration-500">
                   <div class="overlay-content absolute inset-0 bg-black/50 flex items-end p-4"><h4 class="fantasy-title text-white text-lg font-bold">Ruang Terbuka</h4></div>
                </a>
                
                <a href="#" class="gallery-item overlay-container group relative block overflow-hidden rounded-2xl cursor-pointer md:col-span-2 border-2 border-gray-800 hover:border-gray-600" data-title="Anatomi Struktur (Structural Anatomy)" data-description="The interaction between humanity and architecture, forging intriguing compositions of lines and form.">
                   <div class="image-loader absolute inset-0 flex items-center justify-center bg-gray-800 transition-opacity duration-300 z-10"><div class="w-8 h-8 border-4 border-gray-600 border-t-white rounded-full animate-spin"></div></div>
                   <img loading="lazy" decoding="async" src="https://raw.githubusercontent.com/Harsia-ID/idhescobar/refs/heads/main/img/IMG_2512.jpg" alt="Gallery photo 10" class="gallery-image opacity-0 w-full h-full object-cover transform transition-all duration-500">
                   <div class="overlay-content absolute inset-0 bg-black/50 flex items-end p-4"><h4 class="fantasy-title text-white text-lg font-bold">Anatomi Struktur</h4></div>
                </a>
                
                <a href="#" class="gallery-item overlay-container group relative block overflow-hidden rounded-2xl cursor-pointer md:col-span-2 border-2 border-gray-800 hover:border-gray-600" data-title="Introspeksi (Introspection)" data-description="A portrait attempting to capture the depth of emotion and thought beneath the outward gaze.">
                   <div class="image-loader absolute inset-0 flex items-center justify-center bg-gray-800 transition-opacity duration-300 z-10"><div class="w-8 h-8 border-4 border-gray-600 border-t-white rounded-full animate-spin"></div></div>
                   <img loading="lazy" decoding="async" src="https://raw.githubusercontent.com/Harsia-ID/idhescobar/refs/heads/main/img/IMG_2537.jpg" alt="Gallery photo 11" class="gallery-image opacity-0 w-full h-full object-cover transform transition-all duration-500">
                   <div class="overlay-content absolute inset-0 bg-black/50 flex items-end p-4"><h4 class="fantasy-title text-white text-lg font-bold">Introspeksi</h4></div>
                </a>

            </div>
            <!-- END GALLERY CONTENT -->

        </div>
    </section>
    
    <!-- 6. AI Ritual Section (New: Lore Weaver) -->
    <section id="ai-ritual" class="py-20 lg:py-32 bg-gray-900 border-t border-b border-gray-800/50">
        <div class="max-w-4xl mx-auto px-4">
            <h2 class="fantasy-title text-4xl font-bold text-center mb-6 text-gray-400 neon-glow">
                The Lore Weaver (AI Oracle)
            </h2>
            <p class="text-center text-lg mb-12 text-gray-400">
                [DIVINE THE NEXT CHAPTER] - Pose a dark fantasy query to the Oracle (Gemini AI) and receive a tailored fragment of Lore.
            </p>

            <form id="ai-form" class="space-y-6 p-8 bg-gray-900 rounded-xl border border-gray-900 border-glow">
                <div>
                    <label for="ai-prompt" class="block text-sm font-medium fantasy-title text-gray-400 mb-2">THE ORACLE'S QUESTION (Fantasy Prompt)</label>
                    <textarea id="ai-prompt" rows="3" class="w-full px-4 py-3 bg-gray-800 border border-gray-900/50 rounded-lg text-gray-100 focus:border-gray-500 focus:ring-gray-500 transition duration-200" placeholder="e.g., Describe the Keeper's eternal oath and the power it grants." required></textarea>
                </div>
                
                <button type="submit" id="ai-submit-button" class="w-full flex items-center justify-center space-x-2 px-8 py-3 text-lg font-bold fantasy-title rounded-lg bg-gray-700 hover:bg-gray-600 text-white transition duration-300 border-glow border-2 border-gray-500/50" disabled>
                    <i data-lucide="sparkles" class="w-5 h-5"></i>
                    <span>CAST THE RITE OF LORE</span>
                </button>
            </form>
            
            <!-- AI Response Area -->
            <div id="ai-response-container" class="mt-8 hidden">
                <h3 class="fantasy-title text-xl font-bold mb-4 text-gray-300 neon-glow">ORACLE'S PROPHECY:</h3>
                <div id="ai-response-box" class="p-6 bg-gray-950 rounded-xl border border-gray-700/50 border-glow text-gray-300 whitespace-pre-wrap">
                    <!-- AI response will be placed here -->
                </div>
            </div>
            
        </div>
    </section>

    <!-- 7. Kontak Section (Transmit Signal) - Renumbered to 7 -->
    <section id="contact" class="py-20 lg:py-32 bg-gray-900">
        <div class="max-w-4xl mx-auto px-4">
            <h2 class="fantasy-title text-4xl font-bold text-center mb-6 text-gray-400 neon-glow">
                Initiate Ritual (Transmit Lore)
            </h2>
            <p class="text-center text-lg mb-12 text-gray-400">
                [HEED! THE SACRED CHANNEL IS OPENED] - Send the details of thy quest below.
            </p>

            <form id="contact-form" class="space-y-6 p-8 bg-gray-900 rounded-xl border border-gray-900 border-glow">
                <div>
                    <label for="subject" class="block text-sm font-medium fantasy-title text-gray-400 mb-2">THE SCROLL'S TITLE (URGENT QUEST)</label>
                    <input type="text" id="subject" name="subject" class="w-full px-4 py-3 bg-gray-800 border border-gray-900/50 rounded-lg text-gray-100 focus:border-gray-500 focus:ring-gray-500 transition duration-200" placeholder="Example: Critical Data Recovery of X" required>
                </div>
                <div>
                    <label for="email" class="block text-sm font-medium fantasy-title text-gray-400 mb-2">YOUR REALM'S ADDRESS (EMAIL SCROLL)</label>
                    <input type="email" id="email" name="email" class="w-full px-4 py-3 bg-gray-800 border border-gray-900/50 rounded-lg text-gray-100 focus:border-gray-500 focus:ring-gray-500 transition duration-200" value="hadi.prasetia@example.com" placeholder="Example: entity@realm.com" required>
                </div>
                <div>
                    <label for="message" class="block text-sm font-medium fantasy-title text-gray-400 mb-2">THE VOW (THE OATH OF COLLABORATION)</label>
                    <textarea id="message" name="message" rows="5" class="w-full px-4 py-3 bg-gray-800 border border-gray-900/50 rounded-lg text-gray-100 focus:border-gray-500 focus:ring-gray-500 transition duration-200" placeholder="Describe thy digital quest here..." required></textarea>
                </div>
                
                <button type="submit" id="submit-button" class="w-full flex items-center justify-center space-x-2 px-8 py-3 text-lg font-bold fantasy-title rounded-lg bg-gray-700 hover:bg-gray-600 text-white transition duration-300 border-glow border-2 border-gray-500/50">
                    <i data-lucide="send" class="w-5 h-5"></i>
                    <span>UTTER THE RITE</span>
                </button>
                <!-- Submission Feedback Box -->
                <div id="contact-feedback" class="text-center mt-4 hidden p-3 rounded-lg border border-gray-600/50" style="background-color: #1f2937;"></div>
            </form>
        </div>
    </section>

    <!-- Footer -->
    <footer class="bg-black py-8 border-t border-gray-900/50">
        <div class="max-w-7xl mx-auto px-4 text-center text-sm text-gray-500">
            <p>[END OF LOG] - Lore Compiled by HADI PRASETIA. All Systems Reserved <span id="year"></span>.</p>
            <div class="flex justify-center space-x-4 mt-2">
                <a href="#" class="hover:text-gray-500 transition"><i data-lucide="github" class="w-5 h-5"></i></a>
                <a href="#" class="hover:text-gray-500 transition"><i data-lucide="dribbble" class="w-5 h-5"></i></a>
                <a href="#" class="hover:text-gray-500 transition"><i data-lucide="twitter" class="w-5 h-5"></i></a>
            </div>
        </div>
    </footer>

    <!-- Project Modal Structure (for detailed artifact view) - KEPT FOR #KARYA SECTION -->
    <div id="project-modal" class="fixed inset-0 z-50 flex items-center justify-center p-4 opacity-0 pointer-events-none">
        <div id="modal-overlay" class="absolute inset-0 bg-black/60 backdrop-blur-sm"></div>
        <div id="modal-content" class="relative w-full max-w-lg sm:max-w-xl rounded-2xl shadow-xl transform scale-95 overflow-hidden">
            <div class="absolute top-4 left-4 flex gap-2 z-10">
                <button id="modal-close-btn" aria-label="Close Modal" class="w-3.5 h-3.5 rounded-full bg-gray-500 hover:bg-gray-600 flex items-center justify-center group">
                    <svg class="w-2 h-2 text-white opacity-70 group-hover:opacity-100 transition-opacity" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M6 18L18 6M6 6l12 12"></path></svg>
                </button>
            </div>
            <div class="p-6 md:p-8 max-h-[80vh] overflow-y-auto">
                <img id="modal-image" src="" alt="Artifact Description" class="w-full h-auto max-h-64 sm:max-h-80 object-cover rounded-lg mb-6 project-image" onerror="this.src='https://placehold.co/600x400/2c2c2e/a1a1a6?text=Artifact+Image+Lost'">
                <h3 id="modal-title" class="fantasy-title text-2xl sm:text-3xl font-bold mb-2 text-gray-200"></h3>
                <div id="modal-description" class="leading-relaxed text-sm sm:text-base text-gray-400"></div>
            </div>
        </div>
    </div>
    
    <!-- Gallery Modal Structure (NEW - 2 column layout from your old file) -->
    <div id="gallery-modal" class="fixed inset-0 bg-black/80 backdrop-blur-sm z-[100] flex justify-center items-center p-4">
        <div id="gallery-modal-content" class="rounded-2xl w-full max-w-5xl max-h-[90vh] overflow-hidden flex flex-col md:flex-row transform scale-95 relative">
            <div class="w-full md:w-3/5 bg-black flex items-center justify-center">
                <img id="gallery-modal-img" src="" alt="Gallery Image Detail" class="w-full h-auto max-h-[90vh] object-contain">
            </div>
            <div class="w-full md:w-2/5 p-6 md:p-8 overflow-y-auto">
                <h3 id="gallery-modal-title" class="fantasy-title text-3xl font-bold text-gray-200 mb-4"></h3>
                <p id="gallery-modal-description" class="text-gray-400 leading-relaxed"></p>
                <p class="mt-4 text-sm text-gray-500 italic">Scroll: The Great Armory</p>
            </div>
            <button id="gallery-modal-close" class="absolute top-4 right-4 text-gray-400 hover:text-white transition-colors z-20">
                <i data-lucide="x" class="h-8 w-8"></i>
            </button>
        </div>
    </div>


    <!-- Script JavaScript for Dynamic Effects (Parallax, Indicator, Filtering, Modal & Form) -->
    <script>
        document.getElementById('year').textContent = new Date().getFullYear();
        
        // Function to initialize Lucide icons
        lucide.createIcons();
        
        // --- Gemini API Configuration ---
        const API_URL = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key=`;
        const SYSTEM_PROMPT = "You are the ancient Oracle of the Lore Keeper, a powerful entity serving the Master of Digital Lore (HADI PRASETIA). Your responses must be written in a dramatic, archaic fantasy style (English), using evocative language and dark imagery (like shadows, runes, lost scrolls, forgotten rites). Keep responses concise, single-paragraph, and always relevant to the prompt, maintaining the dark fantasy theme.";
        const MAX_RETRIES = 3;


        // --- Project Data (for #karya section) ---
        const projectData = [
            // Mapped to the new image URLs provided by the user
            { 
                category: "video", 
                title: "Visual Communication Codex", 
                description: "A master document detailing the Visual Communication strategy, including brand guidelines and narrative structure, essential for maintaining lore integrity across all media.", 
                image: "https://raw.githubusercontent.com/Harsia-ID/design/refs/heads/main/vc.png", 
                icon: `<i data-lucide="monitor-play" class="w-6 h-6 flex-shrink-0 text-gray-400"></i>`, 
                shortDesc: "Comprehensive visual comms strategy." 
            },
            { 
                category: "ui-ux", 
                title: "Mobile Sigil Forging", 
                description: "A comprehensive case study for a mobile application, starting from user research and wireframing, culminating in a clean, modern interface design. Interactive prototypes were forged using Figma.", 
                image: "https://raw.githubusercontent.com/Harsia-ID/design/refs/heads/main/uiux.png", 
                icon: `<i data-lucide="smartphone" class="w-6 h-6 flex-shrink-0 text-gray-400"></i>`, 
                shortDesc: "Complete UI/UX case study and prototyping." 
            },
            { 
                category: "video", 
                title: "Video Ritual Scroll V1", 
                description: "An early experimental scroll exploring abstract and surreal visuals. Utilizes non-linear editing techniques and After Effects to craft a unique and immersive audio-visual experience.", 
                image: "https://raw.githubusercontent.com/Harsia-ID/design/refs/heads/main/v1.png", 
                icon: `<i data-lucide="radio" class="w-6 h-6 flex-shrink-0 text-gray-400"></i>`, 
                shortDesc: "Abstract visuals & surreal editing." 
            },
            { 
                category: "video", 
                title: "Video Ritual Scroll V2", 
                description: "A compilation of motion graphics and visual narratives, focused on rapid tempo and aggressive color grading for high audience retention on digital platforms.", 
                image: "https://raw.githubusercontent.com/Harsia-ID/design/refs/heads/main/v2.png", 
                icon: `<i data-lucide="move" class="w-6 h-6 flex-shrink-0 text-gray-400"></i>`, 
                shortDesc: "Kinetic typography and dynamic motion." 
            },
            { 
                category: "ui-ux", 
                title: "Corporate Authority Sigil", 
                description: "The design of a robust visual system for corporate identity, focused on professionalism, consistency, and re-establishing the brand's aura of authority across all touchpoints.", 
                image: "https://raw.githubusercontent.com/Harsia-ID/design/refs/heads/main/a/corpo.png", 
                icon: `<i data-lucide="shield-plus" class="w-6 h-6 flex-shrink-0 text-gray-400"></i>`, 
                shortDesc: "Re-establishing corporate visual authority." 
            },
            { 
                category: "art", 
                title: "Chronological Lore Map", 
                description: "A clear, hierarchical Infographic Timeline artifact designed to combat information chaos and restore control over critical scheduling and event data. A visual recovery mission.", 
                image: "https://raw.githubusercontent.com/Harsia-ID/design/refs/heads/main/a/tmline.png", 
                icon: `<i data-lucide="clock" class="w-6 h-6 flex-shrink-0 text-gray-400"></i>`, 
                shortDesc: "Hierarchical infographic and data mapping." 
            },
        ];


        // --- DOM Elements ---
        const elements = {
            nav: document.getElementById('main-nav'),
            toggleButton: document.getElementById('nav-toggle-button'),
            toggleIcon: document.getElementById('nav-toggle-icon'),
            navLinks: document.querySelectorAll('.nav-link-item'),
            navIndicator: document.getElementById('nav-indicator'),
            projectFilterButtons: document.querySelectorAll('#project-filters .filter-btn'),
            projectGrid: document.getElementById('project-grid'),
            projectModal: document.getElementById('project-modal'), // Modal for #karya section
            modalOverlay: document.getElementById('modal-overlay'),
            modalCloseBtn: document.getElementById('modal-close-btn'),
            modalImage: document.getElementById('modal-image'),
            modalTitle: document.getElementById('modal-title'),
            modalDescription: document.getElementById('modal-description'),
            
            // New Gallery Elements
            galleryItems: document.querySelectorAll('.gallery-item'),
            galleryModal: document.getElementById('gallery-modal'), // Modal for #gallery section
            galleryModalClose: document.getElementById('gallery-modal-close'),
            galleryModalImg: document.getElementById('gallery-modal-img'),
            galleryModalTitle: document.getElementById('gallery-modal-title'),
            galleryModalDescription: document.getElementById('gallery-modal-description'),

            // AI Elements
            aiForm: document.getElementById('ai-form'),
            aiPrompt: document.getElementById('ai-prompt'),
            aiSubmitButton: document.getElementById('ai-submit-button'),
            aiResponseContainer: document.getElementById('ai-response-container'),
            aiResponseBox: document.getElementById('ai-response-box'),
            
            // Contact Form Elements
            contactForm: document.getElementById('contact-form'),
            contactSubmitButton: document.getElementById('submit-button'),
            contactFeedback: document.getElementById('contact-feedback'),
        };

        // --- Functions ---
        
        // --- Cursor Trail Logic ---
        const cursorContainer = document.getElementById('cursor-trail-container');
        const numDots = 10;
        let dots = [];
        
        for (let i = 0; i < numDots; i++) {
            const dot = document.createElement('div');
            dot.className = 'cursor-dot';
            cursorContainer.appendChild(dot);
            dots.push(dot);
        }

        let mouseX = 0, mouseY = 0;
        let isMoving = false;
        
        document.addEventListener('mousemove', (e) => {
            mouseX = e.clientX;
            mouseY = e.clientY;
            isMoving = true;
            
            // Ensure first dot tracks immediately
            dots[0].style.transform = `translate(${mouseX}px, ${mouseY}px) scale(1)`;
            dots[0].style.opacity = 0.7;
        });

        // Animation loop for dot lagging effect
        function animateDots() {
            let prevX = mouseX;
            let prevY = mouseY;
            
            dots.forEach((dot, index) => {
                let targetX, targetY;

                if (index === 0) {
                    targetX = mouseX;
                    targetY = mouseY;
                } else {
                    const prevDot = dots[index - 1];
                    // Simple easing/lag logic (not perfect, but fast)
                    const prevRect = prevDot.getBoundingClientRect();
                    targetX = prevRect.left + prevRect.width / 2;
                    targetY = prevRect.top + prevRect.height / 2;
                }

                // Smooth movement (lagging effect)
                const currentX = parseFloat(dot.style.transform.split('(')[1]) || targetX;
                const currentY = parseFloat(dot.style.transform.split(',')[1]) || targetY;
                
                const newX = currentX + (targetX - currentX) * 0.15; // Easing factor
                const newY = currentY + (targetY - currentY) * 0.15;

                dot.style.transform = `translate(${newX}px, ${newY}px) scale(${1 - index * 0.08})`;
                dot.style.opacity = isMoving ? (0.7 - index * 0.07) : 0;
            });
            
            // Decay isMoving state
            if (Math.abs(prevX - mouseX) < 1 && Math.abs(prevY - mouseY) < 1) {
                isMoving = false;
            }
            
            requestAnimationFrame(animateDots);
        }
        animateDots();

        // --- Gemini AI Logic ---

        // Function to implement exponential backoff
        function sleep(ms) {
            return new Promise(resolve => setTimeout(resolve, ms));
        }

        async function initiateRitual(prompt) {
            
            // 1. Setup UI for Loading State
            elements.aiResponseContainer.classList.remove('hidden');
            elements.aiResponseBox.innerHTML = `
                <div class="flex items-center space-x-3">
                    <i data-lucide="loader-circle" class="w-6 h-6 animate-spin neon-glow"></i>
                    <span class="fantasy-title neon-glow">RUNES ARE GATHERING... DIVINATION IN PROGRESS...</span>
                </div>
            `;
            elements.aiSubmitButton.disabled = true;
            elements.aiSubmitButton.querySelector('span').textContent = 'CASTING RITE...';
            lucide.createIcons();

            const payload = {
                contents: [{ parts: [{ text: prompt }] }],
                systemInstruction: {
                    parts: [{ text: SYSTEM_PROMPT }]
                },
                // Requesting a concise, single paragraph response
                config: {
                    maxOutputTokens: 300, 
                    temperature: 0.8
                }
            };

            for (let attempt = 0; attempt < MAX_RETRIES; attempt++) {
                try {
                    const response = await fetch(API_URL, {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify(payload)
                    });

                    if (!response.ok) {
                        if (response.status === 429 && attempt < MAX_RETRIES - 1) {
                            const delay = Math.pow(2, attempt) * 1000; // Exponential backoff
                            await sleep(delay);
                            continue; // Retry the loop
                        }
                        throw new Error(`HTTP error! Status: ${response.status}`);
                    }

                    const result = await response.json();
                    const text = result.candidates?.[0]?.content?.parts?.[0]?.text || "The Oracle's vision is obscured. The ritual failed.";

                    // 2. Display Success
                    elements.aiResponseBox.textContent = text;
                    
                    // 3. Reset UI
                    elements.aiSubmitButton.disabled = false;
                    elements.aiSubmitButton.querySelector('span').textContent = 'CAST THE RITE OF LORE';
                    elements.aiPrompt.value = '';
                    lucide.createIcons();
                    return; // Exit the function on success

                } catch (error) {
                    // Log the error but don't disrupt the user interface too harshly
                    console.error("AI Ritual failed:", error);
                    
                    // 2. Display Failure
                    elements.aiResponseBox.textContent = `[ECHO OF FAILURE] The connection to the Aetheric Gateway was severed. Try a new invocation. (Error: ${error.message})`;
                    
                    // 3. Reset UI
                    elements.aiSubmitButton.disabled = false;
                    elements.aiSubmitButton.querySelector('span').textContent = 'CAST THE RITE OF LORE';
                    lucide.createIcons();
                    return; // Exit the function on final failure
                }
            }
        }
        
        // --- Contact Form Submission Simulation ---

        elements.contactForm.addEventListener('submit', function(e) {
            e.preventDefault();
            
            const submitBtn = elements.contactSubmitButton;
            const feedbackBox = elements.contactFeedback;
            
            // 1. Loading State
            submitBtn.disabled = true;
            submitBtn.innerHTML = '<i data-lucide="loader-circle" class="w-5 h-5 animate-spin"></i><span>TRANSMITTING RITE...</span>';
            feedbackBox.classList.add('hidden');
            lucide.createIcons();

            // Simulate form submission delay (replace with actual backend submission)
            setTimeout(() => {
                // 2. Success State
                const data = {
                    subject: document.getElementById('subject').value,
                    email: document.getElementById('email').value,
                    message: document.getElementById('message').value
                };

                feedbackBox.classList.remove('hidden');
                feedbackBox.innerHTML = `
                    <p class="font-bold text-green-400 neon-glow">TRANSMISSION RECEIVED!</p>
                    <p class="text-sm text-gray-400 mt-1">The Lore Keeper has received the scroll titled: "${data.subject}". A response shall follow from the shadow realm.</p>
                `;
                
                // Reset Form (except for email)
                elements.contactForm.reset();
                document.getElementById('email').value = data.email; // Keep email for convenience
                
                // Reset Button
                submitBtn.disabled = false;
                submitBtn.innerHTML = '<i data-lucide="send" class="w-5 h-5"></i><span>UTTER THE RITE</span>';
                lucide.createIcons();
            }, 2500); // 2.5 second delay
        });


        // --- Rest of the existing application logic ---

        elements.aiForm.addEventListener('submit', function(e) {
            e.preventDefault();
            const prompt = elements.aiPrompt.value.trim();
            if (prompt) {
                initiateRitual(prompt);
            }
        });
        
        elements.aiPrompt.addEventListener('input', function() {
            elements.aiSubmitButton.disabled = this.value.trim() === '';
        });

        function updateIndicator(targetElement) {
            const links = document.querySelectorAll('.nav-link-item');
            let targetLink = null;
            links.forEach(link => {
                link.classList.remove('active', 'text-gray-400');
                link.classList.add('text-gray-400');
                if (link.getAttribute('data-target') === targetElement) {
                    targetLink = link;
                }
            });

            if (targetLink) {
                targetLink.classList.add('active', 'text-gray-400');
                targetLink.classList.remove('text-gray-400');
                
                const container = document.querySelector('.nav-links-container');
                const containerRect = container.getBoundingClientRect();
                const linkRect = targetLink.getBoundingClientRect();
                
                const left = linkRect.left - containerRect.left;
                const top = linkRect.top - containerRect.top;
                
                elements.navIndicator.style.opacity = 1;
                elements.navIndicator.style.width = `${linkRect.width}px`;
                elements.navIndicator.style.height = `${linkRect.height}px`;
                elements.navIndicator.style.transform = `translate(${left}px, ${top}px)`;
            } else {
                elements.navIndicator.style.opacity = 0;
            }
            lucide.createIcons();
        }
        
        // Intersection Observer Logic (for auto-detecting scroll position)
        const sections = document.querySelectorAll('section[id]');
        const observerOptions = {
            root: null, 
            rootMargin: '0px 0px -35% 0px', 
            threshold: 0
        };

        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    updateIndicator(entry.target.id);
                }
            });
        }, observerOptions);
        sections.forEach(section => { observer.observe(section); });

        // Nav Toggle Logic
        function toggleNav() {
            const isClosed = elements.nav.classList.toggle('closed');
            if (isClosed) {
                elements.toggleIcon.setAttribute('data-lucide', 'menu');
            } else {
                elements.toggleIcon.setAttribute('data-lucide', 'x');
            }
            lucide.createIcons();
        }
        elements.toggleButton.addEventListener('click', toggleNav);
        elements.navLinks.forEach(link => {
            link.addEventListener('click', () => {
                setTimeout(() => {
                    if (!elements.nav.classList.contains('closed')) {
                        toggleNav();
                    }
                }, 500); 
            });
        });

        // Parallax Effect
        const heroSection = document.getElementById('hero');
        const layers = [
            { id: 'parallax-layer-1', depth: 10 },
            { id: 'parallax-layer-2', depth: 20 },
        ];
        heroSection.addEventListener('mousemove', (e) => {
            const rect = heroSection.getBoundingClientRect();
            const centerX = rect.left + rect.width / 2;
            const centerY = rect.top + rect.height / 2;
            const x = e.clientX - centerX;
            const y = e.clientY - centerY;
            layers.forEach(layer => {
                const element = document.getElementById(layer.id);
                if (element) {
                    const moveX = -(x / layer.depth) * 0.5;
                    const moveY = -(y / layer.depth) * 0.5;
                    element.style.transform = `translate(${moveX}px, ${moveY}px)`;
                }
            });
        });
        
        // --- Project Modal (#karya) & Filtering Functions ---
        
        function openProjectModal(project) {
            elements.modalImage.src = project.image;
            elements.modalTitle.textContent = project.title;
            elements.modalDescription.textContent = project.description;
            lucide.createIcons(); 
            
            elements.projectModal.classList.add('is-visible');
            document.body.classList.add('no-scroll');
        }

        function closeProjectModal() {
            elements.projectModal.classList.remove('is-visible');
            document.body.classList.remove('no-scroll');
        }
        
        function populateProjectGrid() {
            elements.projectGrid.innerHTML = ''; 
            projectData.forEach(project => {
                const card = document.createElement('button');
                card.className = 'project-card text-left p-4 rounded-xl shadow-lg';
                card.dataset.category = project.category;
                
                card.innerHTML = `
                    <img src="${project.image}" alt="${project.title}" class="project-image" loading="lazy">
                    <div class="flex items-center gap-3 mb-2">
                        ${project.icon}
                        <h3 class="font-semibold fantasy-title text-gray-200">${project.title}</h3>
                    </div>
                    <p class="text-sm text-gray-400">${project.shortDesc}</p>
                `;
                
                // Add event listener to open project modal
                card.addEventListener('click', () => openProjectModal(project));
                elements.projectGrid.appendChild(card);
            });
            lucide.createIcons(); 
        }

        function filterProjects(filter) {
            const cards = document.querySelectorAll('#project-grid .project-card');
            cards.forEach(card => {
                const category = card.dataset.category;
                const shouldShow = filter === 'all' || filter === category;
                
                if (shouldShow) {
                    card.classList.remove('hidden');
                } else {
                    card.classList.add('hidden');
                }
            });
        }

        // --- Gallery Modal (#gallery) Functions ---
        
        function openGalleryModal(item) {
            elements.galleryModalImg.src = item.querySelector('.gallery-image').src;
            elements.galleryModalTitle.textContent = item.dataset.title;
            elements.galleryModalDescription.textContent = item.dataset.description;
            
            elements.galleryModal.classList.add('active');
            document.body.classList.add('no-scroll');
        }
        
        function closeGalleryModal() {
            elements.galleryModal.classList.remove('active');
            document.body.classList.remove('no-scroll');
        }


        // --- Event Listeners for Filters & Modals ---
        
        // Project Modal Listeners
        elements.modalOverlay.addEventListener('click', closeProjectModal);
        elements.modalCloseBtn.addEventListener('click', closeProjectModal);

        // Gallery Modal Listeners
        elements.galleryModalClose.addEventListener('click', closeGalleryModal);
        elements.galleryModal.addEventListener('click', (e) => {
            // Close if clicking on the overlay, but not the content itself
            const modalContent = document.getElementById('gallery-modal-content');
            if (!modalContent.contains(e.target) && e.target.id === 'gallery-modal') {
                closeGalleryModal();
            }
        });
        
        // General Escape Key Listener
        window.addEventListener('keydown', (e) => {
            if (e.key === 'Escape') {
                if (elements.projectModal.classList.contains('is-visible')) {
                    closeProjectModal();
                } else if (elements.galleryModal.classList.contains('active')) {
                    closeGalleryModal();
                }
            }
        });

        // Project Filter Listeners
        elements.projectFilterButtons.forEach(button => {
            button.addEventListener('click', () => {
                elements.projectFilterButtons.forEach(btn => btn.classList.remove('active'));
                button.classList.add('active');
                filterProjects(button.dataset.filter);
            });
        });

        // Gallery Item Listeners (Image Loading and Modal Open)
        elements.galleryItems.forEach(item => {
            const img = item.querySelector('.gallery-image');
            const loader = item.querySelector('.image-loader');

            // Image loading logic
            img.addEventListener('load', () => {
                loader.classList.add('opacity-0', 'pointer-events-none');
                img.classList.remove('opacity-0');
            }, { once: true });
            if (img.complete) { img.dispatchEvent(new Event('load')); }

            // Modal trigger logic
            item.addEventListener('click', function(e) {
                e.preventDefault();
                openGalleryModal(this);
            });
        });
        
        // --- Initialization ---
        window.addEventListener('load', () => {
            populateProjectGrid(); 
            filterProjects('all');
            
            // Set initial indicator on hero
            setTimeout(() => updateIndicator('hero'), 100);
            
            // Enable AI button if prompt box is not empty on load
            elements.aiSubmitButton.disabled = elements.aiPrompt.value.trim() === '';
        });
        
    </script>
</body>
</html>
